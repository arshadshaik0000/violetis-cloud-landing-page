/*
 * Global Application Styles
 * Defines Angular Material theming, global CSS variables for colors, spacing,
 * typography, breakpoints, animation timings, and base element resets.
 */

// 1. Angular Material theming & Bootstrap (must be first)
@use '@angular/material' as mat;
@use 'bootstrap/scss/bootstrap';

// 2. Apply a Material 3 theme using mat.theme()
html {
  @include mat.theme((
    color: (
      primary: mat.$cyan-palette,
      tertiary: mat.$orange-palette,
    ),
    typography: Roboto, // Sets Roboto as the default typography for Material components
    density: 0 // Default density setting
  ));

  // Default to light color scheme for the document
  color-scheme: light;
  background-color: var(--mat-sys-surface); // Material 3 surface color
  color:              var(--mat-sys-on-surface); // Material 3 on-surface color
  font:               var(--mat-sys-body-medium); // Material 3 body typography
}

// 3. Global CSS Variables (light/dark + spacing + radii + breakpoints + animation)
// Defines custom properties for consistent styling throughout the application.
:root {
  /* — Light theme colors — */
  --color-white:    #ffffff;
  --color-black:    #000000;
  --color-bg:       #fff8e0;
  --color-bg-alt:   #fdf7e6;
  --color-text:     #000000;
  --color-text-2:   #333333;

  /* — Brand & accent colors — */
  --color-brand:        #7266ec;
  --color-brand-rgb:    114, 102, 236; // RGB values for rgba() usage
  --color-brand-hover:  #453de8;
  --color-accent:       #6daffe;

  /* — Dark theme colors — */
  --color-bg-dark:      #1e1e2f;
  --color-bg-alt-dark:  #2a2a3a;
  --color-text-dark:    #f5f5f5;
  --color-text-2-dark:  #cccccc;

  /* — Fonts — */
  --font-primary:   'Inter', sans-serif;
  --font-secondary: 'Oswald', sans-serif;

  /* — Spacing scale — */
  --space-xxs: .25rem;
  --space-xs:  .5rem;
  --space-sm: 1rem;
  --space-md: 1.5rem;
  --space-lg: 2rem;
  --space-xl: 4rem;
  --space-xxl: 6rem;

  /* — Border radii — */
  --radius-sm: .375rem;
  --radius-md: .75rem;
  --radius-lg: 1.5rem;

  /* — Responsive breakpoints — */
  --bp-sm:  576px;
  --bp-md:  768px;
  --bp-lg:  992px;

  /* — Animation timing properties — */
  --anim-duration: 600ms;
  --anim-ease:     cubic-bezier(0.215, 0.61, 0.355, 1);
}

// 4. Dark-mode overrides
// Applies dark theme specific colors by re-assigning global variables.
body.dark-theme {
  --color-bg:     var(--color-bg-dark);
  --color-bg-alt: var(--color-bg-alt-dark);
  --color-text:   var(--color-text-dark);
  --color-text-2: var(--color-text-2-dark);
}

// 5. Base resets & global styles
html, body {
  height: 100%;
  margin: 0;
  padding: 0;
  font-family: var(--font-primary) !important; // Ensures primary font is used globally
  background:      var(--color-bg);
  color:           var(--color-text);
  line-height:     1.5;
  -webkit-font-smoothing: antialiased; // Improves font rendering on WebKit browsers
  -moz-osx-font-smoothing: grayscale; // Improves font rendering on Firefox
  transition:      background var(--anim-duration) var(--anim-ease),
                   color var(--anim-duration) var(--anim-ease); // Smooth theme transition
  will-change:     background, color; // Optimizes for animation performance
}

// 6. Global hover/focus & utility transitions
// Applies common transition properties to all elements for smoother interactions.
* {
  transition: background-color 0.3s var(--anim-ease),
              color            0.3s var(--anim-ease),
              transform        0.3s var(--anim-ease),
              box-shadow       0.3s var(--anim-ease);
}

a, button {
  cursor: pointer;
}

a:hover, button:hover {
  opacity: 0.85; // Reduces opacity on hover
  transform: translateY(-2px); // Lifts elements slightly on hover
}

// 7. Scroll-Reveal core (global defaults)
// Defines the default initial and in-view states for elements using `appScrollReveal`.
[appScrollReveal] {
  opacity: 0;
  transform: translateY(20px);
  will-change: opacity, transform; // Optimizes for animation performance
  transition:
    opacity var(--anim-duration) var(--anim-ease) var(--delay-ms, 0ms),
    transform var(--anim-duration) var(--anim-ease) var(--delay-ms, 0ms); // Incorporates custom delay
}
[appScrollReveal].in-view {
  opacity: 1;
  transform: none; // Resets transform to original position when in view
}

// 8. Responsive typography
// Adjusts base font size for different screen sizes to maintain readability.
@media (max-width: var(--bp-lg)) {
  html { font-size: 14px; }
}
@media (max-width: var(--bp-md)) {
  html { font-size: 13px; }
}
